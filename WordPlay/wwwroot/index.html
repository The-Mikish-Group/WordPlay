<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f0520">
    <meta name="description" content="A free word puzzle game with 156,000+ levels. Swipe letters, find words, and challenge your vocabulary!">

    <!-- Open Graph -->
    <meta property="og:url" content="https://wordplay.illustrate.net/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="WordPlay — Word Puzzle Game">
    <meta property="og:description" content="A free word puzzle game with 156,000+ levels. Swipe letters, find words, and challenge your vocabulary!">
    <meta property="og:image" content="https://wordplay.illustrate.net/icons/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WordPlay — Word Puzzle Game">
    <meta name="twitter:description" content="A free word puzzle game with 156,000+ levels. Swipe letters, find words, and challenge your vocabulary!">
    <meta name="twitter:image" content="https://wordplay.illustrate.net/icons/og-image.png">

    <title>WordPlay</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/favicon.ico" sizes="48x48">
    <link rel="icon" href="/icons/icon-32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/icons/icon-192.png" type="image/png" sizes="192x192">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <link rel="stylesheet" href="/css/app.css?v=14">
    <meta name="google-client-id" content="774304243918-thdn6clh5a1700vp40kchu17t0gkh5m3.apps.googleusercontent.com">
    <meta name="microsoft-client-id" content="2386028d-c4f7-439e-b64a-4e1ef7ac9e99">
</head>
<body>
    <div id="app"></div>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://alcdn.msauth.net/browser/2.38.0/js/msal-browser.min.js" async defer></script>
    <script src="/js/auth.js?v=14"></script>
    <script src="/js/sync.js?v=14"></script>
    <script src="/js/levels.js?v=14"></script>
    <script src="/js/level-loader.js?v=14"></script>
    <script src="/js/crossword.js?v=14"></script>
    <script src="/js/app.js?v=14"></script>
    <script>
        // Capture install prompt
        window._installPrompt = null;
        window.addEventListener('beforeinstallprompt', function(e) {
            e.preventDefault();
            window._installPrompt = e;
        });

        // Detect in-app browsers
        (function() {
            var ua = navigator.userAgent || '';
            var tests = [
                [/FBAN|FBAV/i, 'Facebook'],
                [/Instagram/i, 'Instagram'],
                [/musical_ly|BytedanceWebview|TikTok/i, 'TikTok'],
                [/Snapchat/i, 'Snapchat'],
                [/LinkedInApp/i, 'LinkedIn'],
                [/Pinterest/i, 'Pinterest'],
                [/Twitter/i, 'Twitter'],
                [/\bLine\//i, 'Line']
            ];
            window._inAppBrowser = false;
            for (var i = 0; i < tests.length; i++) {
                if (tests[i][0].test(ua)) { window._inAppBrowser = tests[i][1]; break; }
            }
        })();

        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').then(function(reg) {
                window._swReg = reg;
                // Check for updates every 60 seconds
                setInterval(function() { reg.update(); }, 60000);
                // When a new SW takes over, reload to get fresh assets
                var refreshing = false;
                navigator.serviceWorker.addEventListener('controllerchange', function() {
                    if (!refreshing) {
                        refreshing = true;
                        window.location.reload();
                    }
                });
            });
        }
    </script>
</body>
</html>
